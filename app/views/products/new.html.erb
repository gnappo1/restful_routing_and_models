<%= render partial: "errors", locals: {object: @product} %>

<div class="new-form">
    <header>
        <h2>Create a new product</h2>
    </header>
    <%= form_with(model: @product) do |f| %>
        <%=  render partial: "form", locals: {form_builder: f} %>
        <hr>
        <h4>Or create a new brand:</h4>
        <%= f.fields_for :brand do |brand_fields| %>
            <div class="form-input">
                <%= brand_fields.label :name %>
                <%= brand_fields.text_field :name %>
            </div>
            <div class="form-input">
                <%= brand_fields.label :year_founded %>
                <%= brand_fields.number_field :year_founded %>
            </div>
            <div class="form-input">
                <%= brand_fields.label :mission %>
                <%= brand_fields.text_area :mission %>
            </div>
        <% end %>
        <div class="form-button"><%= f.submit %></div>

    <% end %>
</div>